// Dados do Cardápio
window.menuData = {
    tradicionais: [
        {
            numero: '01',
            nome: 'Calabresa',
            ingredientes: 'muçarela e calabresa',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '02',
            nome: 'Marguerita',
            ingredientes: 'muçarela, tomate e manjericão',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '03',
            nome: 'Alho',
            ingredientes: 'muçarela e alho crocante',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '04',
            nome: 'Milho',
            ingredientes: 'muçarela e milho',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '05',
            nome: 'Romeu e Julieta',
            ingredientes: 'muçarela e goiabada cremosa',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '06',
            nome: 'Presunto',
            ingredientes: 'muçarela e presunto',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '07',
            nome: 'Muçarela',
            ingredientes: 'muçarela e molho de tomate',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '08',
            nome: 'Napolitana',
            ingredientes: 'muçarela, presunto e tomate',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '09',
            nome: 'Lombo',
            ingredientes: 'muçarela e lombo canadense',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '11',
            nome: '4 Estações',
            ingredientes: 'muçarela, marguerita, alho e milho (1/4 de cada)',
            junior: 23.00,
            grande: 38.00,
            noHalfPizza: true
        },
        {
            numero: '12',
            nome: 'Picante',
            ingredientes: 'muçarela, calabresa e pimenta calabresa',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '13',
            nome: 'À Moda',
            ingredientes: 'muçarela, presunto, tomate, calabresa, azeitona e cebola',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '23',
            nome: 'Doce de Leite',
            ingredientes: 'muçarela e doce de leite',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '32',
            nome: 'Chocolate Branco',
            ingredientes: 'muçarela e chocolate branco',
            junior: 23.00,
            grande: 38.00
        },
        {
            numero: '50',
            nome: 'Hot Dog',
            ingredientes: 'muçarela, salsicha, milho e batata palha',
            junior: 23.00,
            grande: 38.00
        }
    ],
    especiais: [
        {
            numero: '10',
            nome: 'Portuguesa',
            ingredientes: 'muçarela, presunto, azeitona, ovo, pimentão e cebola',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '14',
            nome: 'Paulista',
            ingredientes: 'muçarela, peito de peru, queijo minas frescal, tomate seco e manjericão',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '15',
            nome: 'Atum',
            ingredientes: 'muçarela, atum, azeitona e cebola',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '16',
            nome: 'Toscana',
            ingredientes: 'muçarela, calabresa, presunto, ovo cozido, milho e azeitona',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '17',
            nome: 'Tomate Seco com Rúcula',
            ingredientes: 'muçarela, queijo minas frescal, tomate seco e rúcula',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '18',
            nome: 'Italiana',
            ingredientes: 'muçarela, tomate, calabresa, alho e manjericão',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '19',
            nome: 'Palmito',
            ingredientes: 'muçarela, tomate, palmito, provolone, azeitona e cebola',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '20',
            nome: 'Mexicana',
            ingredientes: 'muçarela, tomate, calabresa, cebola e pimenta',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '21',
            nome: 'Frango com Catupiry',
            ingredientes: 'muçarela, frango desfiado, milho, azeitona e catupiry',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '22',
            nome: 'Abacaxi',
            ingredientes: 'muçarela, abacaxi em calda, canela e açúcar',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '24',
            nome: 'Canadense',
            ingredientes: 'muçarela, lombo e abacaxi em calda',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '25',
            nome: 'Banana ao Caramelo',
            ingredientes: 'muçarela, banana, caramelo, açúcar e canela',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '26',
            nome: 'Banana',
            ingredientes: 'muçarela, banana fatiada, açúcar e canela',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '27',
            nome: 'Banana com Chocolate',
            ingredientes: 'muçarela, banana fatiada, açúcar, canela e chocolate ao leite',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '28',
            nome: 'Chocolate',
            ingredientes: 'camada fina de muçarela e chocolate ao leite',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '29',
            nome: 'Cocadinha',
            ingredientes: 'muçarela, leite condensado e coco ralado',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '30',
            nome: 'Prestígio',
            ingredientes: 'muçarela, chocolate ao leite e coco ralado',
            junior: 27.00,
            grande: 43.00
        },
        {
            numero: '31',
            nome: 'Chocomix',
            ingredientes: 'muçarela, chocolate ao leite e chocolate branco',
            junior: 27.00,
            grande: 43.00
        }
    ],
    premium: [
        {
            numero: '33',
            nome: 'Romana com Cheddar',
            ingredientes: 'muçarela, peito de peru, provolone, azeitona e cheddar',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '35',
            nome: 'Americana',
            ingredientes: 'muçarela, presunto, tomate, bacon, cebola, milho e azeitona',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '36',
            nome: 'Bacon',
            ingredientes: 'muçarela, bacon, milho, ovo e cebola',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '37',
            nome: 'Brasília',
            ingredientes: 'muçarela, lombo, ovo, bacon, pimentão, cebola e milho',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '38',
            nome: 'Brasileira',
            ingredientes: 'muçarela, carne de sol, queijo minas, cebola e azeitona',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '39',
            nome: 'Delícia',
            ingredientes: 'muçarela, lombo, palmito, bacon, milho e catupiry',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '40',
            nome: 'Du\'Cheff',
            ingredientes: 'muçarela, peito de peru, tomate, calabresa, azeitona, palmito, cebola e pimentão',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '41',
            nome: 'Frango ao Creme',
            ingredientes: 'muçarela, frango, azeitona, bacon e creme de leite',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '42',
            nome: 'Frango com Bacon',
            ingredientes: 'muçarela, frango desfiado, milho, azeitona, catupiry e bacon',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '43',
            nome: 'Frango Premium',
            ingredientes: 'muçarela, frango, bacon, provolone e cheddar',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '44',
            nome: '4 Queijos',
            ingredientes: 'muçarela, gorgonzola, provolone e catupiry',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '45',
            nome: 'Pepperoni',
            ingredientes: 'muçarela e pepperoni',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '46',
            nome: 'Portuguesa Premium',
            ingredientes: 'muçarela, presunto, calabresa, ovo, palmito, azeitona, cebola e pimentão',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '47',
            nome: 'Vegetariana',
            ingredientes: 'muçarela, tomate, palmito, milho, cebola, pimentão e alho crocante',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '52',
            nome: 'Francesa',
            ingredientes: 'muçarela, frango, azeitona, bacon, creme de leite e batata palha',
            junior: 32.00,
            grande: 52.00
        },
        {
            numero: '54',
            nome: 'Chocolate com Morango',
            ingredientes: 'camada fina de muçarela, chocolate ao leite e morangos',
            junior: 32.00,
            grande: 52.00
        }
    ]
};

// Dados dos Combos Promocionais
const combosData = [
    {
        numero: 1,
        descricao: '1 pizza grande tradicional + 1 pizza júnior tradicional',
        preco: 55.00,
        itens: [
            { tipo: 'pizza', categoria: 'tradicionais', tamanho: 'Grande', label: 'Pizza Grande Tradicional' },
            { tipo: 'pizza', categoria: 'tradicionais', tamanho: 'Junior', label: 'Pizza Júnior Tradicional' }
        ]
    },
    {
        numero: 2,
        descricao: '1 pizza grande especial + 1 pizza júnior especial',
        preco: 65.00,
        itens: [
            { tipo: 'pizza', categoria: 'especiais', tamanho: 'Grande', label: 'Pizza Grande Especial' },
            { tipo: 'pizza', categoria: 'especiais', tamanho: 'Junior', label: 'Pizza Júnior Especial' }
        ]
    },
    {
        numero: 3,
        descricao: '1 pizza grande tradicional + 1 pizza júnior premium + 1 refrigerante de 1,5 litro',
        preco: 74.00,
        itens: [
            { tipo: 'pizza', categoria: 'tradicionais', tamanho: 'Grande', label: 'Pizza Grande Tradicional' },
            { tipo: 'pizza', categoria: 'premium', tamanho: 'Junior', label: 'Pizza Júnior Premium' },
            { tipo: 'bebida', label: 'Refrigerante 1,5L', opcoes: ['Coca-Cola', 'Fanta Laranja', 'Fanta Uva', 'Sprite', 'Guarana'] }
        ]
    },
    {
        numero: 4,
        descricao: '1 pizza grande premium + 1 pizza júnior especial + 1 refrigerante de 1,5 litro',
        preco: 83.00,
        itens: [
            { tipo: 'pizza', categoria: 'premium', tamanho: 'Grande', label: 'Pizza Grande Premium' },
            { tipo: 'pizza', categoria: 'especiais', tamanho: 'Junior', label: 'Pizza Júnior Especial' },
            { tipo: 'bebida', label: 'Refrigerante 1,5L', opcoes: ['Coca-Cola', 'Fanta Laranja', 'Fanta Uva', 'Sprite', 'Guarana'] }
        ]
    },
    {
        numero: 5,
        descricao: '1 pizza grande tradicional + 1 pizza grande premium',
        preco: 83.00,
        itens: [
            { tipo: 'pizza', categoria: 'tradicionais', tamanho: 'Grande', label: 'Pizza Grande Tradicional' },
            { tipo: 'pizza', categoria: 'premium', tamanho: 'Grande', label: 'Pizza Grande Premium' }
        ]
    },
    {
        numero: 6,
        descricao: '1 pizza grande especial + 1 pizza grande premium',
        preco: 87.00,
        itens: [
            { tipo: 'pizza', categoria: 'especiais', tamanho: 'Grande', label: 'Pizza Grande Especial' },
            { tipo: 'pizza', categoria: 'premium', tamanho: 'Grande', label: 'Pizza Grande Premium' }
        ]
    }
];


// Função para criar um card de pizza
function createPizzaCard(pizza, category) {
  // Criar botão para pizza grande que sempre abre o modal de meio a meio
  const btnGrande = `<button class="btn btn-small" onclick="openHalfPizzaModal('${pizza.nome} - Grande', ${pizza.grande}, '${category}')">Escolher</button>`;

  return `
    <div class="pizza-card">
      <div class="pizza-header">
        <span class="pizza-number">Nº ${pizza.numero}</span>
        <h3 class="pizza-name">${pizza.nome}</h3>
      </div>
      <div class="pizza-body">
        <p class="pizza-ingredients">${pizza.ingredientes}</p>
      </div>
      <div class="pizza-prices">
        <div class="price-item">
          <div class="price-label">Júnior</div>
          <div class="price-value">R$ ${pizza.junior.toFixed(2).replace('.', ',')}</div>
          <button class="btn btn-small" onclick="addToCart('${pizza.nome} - Júnior', ${pizza.junior}, 'Júnior')">Adicionar</button>
        </div>
        <div class="price-item">
          <div class="price-label">Grande</div>
          <div class="price-value">R$ ${pizza.grande.toFixed(2).replace('.', ',')}</div>
          ${btnGrande}
        </div>
      </div>
    </div>
  `;
}

// Função para criar um card de combo
function createComboCard(combo) {
    return `
        <div class="combo-card">
            <div class="combo-header">
                <h3>Combo ${combo.numero}</h3>
            </div>
            <div class="combo-body">
                <p class="combo-descricao">${combo.descricao}</p>
                <div class="combo-price">
                    <span class="combo-price-label">Por apenas</span>
                    <span class="combo-price-value">R$ ${combo.preco.toFixed(2).replace('.', ',')}</span>
                </div>
                <button class="btn btn-small" onclick="openComboModal(${combo.numero})">Adicionar</button>
            </div>
        </div>
    `;
}

// Função para renderizar as pizzas
function renderPizzas(category = 'todas') {
    const pizzasGrid = document.getElementById('pizzasGrid');
    pizzasGrid.innerHTML = '';

    if (category === 'todas') {
        Object.keys(menuData).forEach(cat => {
            menuData[cat].forEach(pizza => {
                pizzasGrid.innerHTML += createPizzaCard(pizza, cat);
            });
        });
    } else {
        menuData[category].forEach(pizza => {
            pizzasGrid.innerHTML += createPizzaCard(pizza, category);
        });
    }
}

// Função para renderizar os combos
function renderCombos() {
    const combosGrid = document.getElementById('combosGrid');
    if (combosGrid) {
        combosGrid.innerHTML = '';
        combosData.forEach(combo => {
            combosGrid.innerHTML += createComboCard(combo);
        });
    }
}

// Inicializar o cardápio ao carregar a página
document.addEventListener('DOMContentLoaded', function() {
    renderPizzas('todas');
    renderCombos();

    // Adicionar event listeners aos botões de filtro
    const filterButtons = document.querySelectorAll('.filter-btn');
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Remover classe active de todos os botões
            filterButtons.forEach(btn => btn.classList.remove('active'));
            // Adicionar classe active ao botão clicado
            this.classList.add('active');
            // Renderizar pizzas da categoria selecionada
            const filter = this.getAttribute('data-filter');
            renderPizzas(filter);
        });
    });
});
